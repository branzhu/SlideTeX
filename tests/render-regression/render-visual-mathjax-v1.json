{
  "meta": {
    "name": "MathJax visual known-good",
    "version": 3,
    "note": "Visual regression baseline for SlideTeX WebUI MathJax render output.",
    "mathjaxVersion": "4.1.0"
  },
  "defaults": {
    "locale": "zh-CN",
    "fontChecks": [],
    "options": {
      "fontPt": 24,
      "dpi": 300,
      "colorHex": "#000000",
      "isTransparent": true,
      "displayMode": "auto"
    },
    "imageDiff": {
      "maxDiffPixels": 500,
      "maxDiffRatio": 0.01
    },
    "layout": {
      "allowTagOverlap": false,
      "minTagGapPx": 2,
      "maxTagGapPx": 48,
      "requireNotClipped": true
    }
  },
  "cases": [
    {
      "id": "align_single_tag",
      "suite": [
        "smoke",
        "full"
      ],
      "latex": "\\begin{align} a &= b \\tag{1} \\end{align}",
      "expected": {
        "tags": [
          "(1)"
        ]
      }
    },
    {
      "id": "align_multi_tags",
      "suite": [
        "smoke",
        "full"
      ],
      "latex": "\\begin{align} a &= b \\tag{1} \\\\ c &= d \\tag{2} \\end{align}",
      "expected": {
        "tags": [
          "(1)",
          "(2)"
        ]
      }
    },
    {
      "id": "gather_multi_tags",
      "suite": [
        "smoke",
        "full"
      ],
      "latex": "\\begin{gather} a=b \\tag{1} \\\\ c=d \\tag{2} \\\\ e=f \\tag{3} \\end{gather}",
      "expected": {
        "tags": [
          "(1)",
          "(2)",
          "(3)"
        ]
      }
    },
    {
      "id": "equation_custom_tag",
      "suite": [
        "smoke",
        "full"
      ],
      "latex": "\\begin{equation} E=mc^2 \\tag{X} \\end{equation}",
      "expected": {
        "tags": [
          "(X)"
        ]
      }
    },
    {
      "id": "fraction_sqrt_layout",
      "suite": [
        "smoke",
        "full"
      ],
      "latex": "\\frac{\\sqrt{a^2+b^2}}{\\int_0^1 x^2 \\, dx}",
      "expected": {
        "tags": []
      }
    },
    {
      "id": "matrix_layout",
      "suite": [
        "smoke",
        "full"
      ],
      "latex": "\\begin{pmatrix} a & b \\\\ c & d \\end{pmatrix}",
      "expected": {
        "tags": [],
        "requireDisplay": true
      }
    },
    {
      "id": "inline_mode_basic_en",
      "suite": [
        "smoke",
        "full"
      ],
      "locale": "en-US",
      "latex": "a^2+b^2=c^2",
      "options": {
        "displayMode": "inline"
      },
      "expected": {
        "tags": [],
        "requireDisplay": false
      }
    },
    {
      "id": "long_formula_tag",
      "suite": [
        "smoke",
        "full"
      ],
      "latex": "\\begin{align}\\sum_{i=1}^{n} i^2 &= \\frac{n(n+1)(2n+1)}{6} \\tag{9}\\end{align}",
      "expected": {
        "tags": [
          "(9)"
        ]
      }
    },
    {
      "id": "force_display_simple",
      "suite": "full",
      "latex": "a^2+b^2=c^2",
      "options": {
        "displayMode": "display"
      },
      "expected": {
        "tags": [],
        "requireDisplay": true
      }
    },
    {
      "id": "force_inline_fraction",
      "suite": "full",
      "latex": "\\frac{a}{b}+1",
      "options": {
        "displayMode": "inline"
      },
      "expected": {
        "tags": [],
        "requireDisplay": false
      }
    },
    {
      "id": "aligned_env_two_lines",
      "suite": "full",
      "latex": "\\begin{aligned} a&=b \\\\ c&=d \\end{aligned}",
      "expected": {
        "tags": [],
        "requireDisplay": true
      }
    },
    {
      "id": "split_env_in_equation",
      "suite": "full",
      "latex": "\\begin{equation}\\begin{split}a+b&=c\\\\d+e&=f\\end{split}\\end{equation}",
      "expected": {
        "tags": [],
        "requireDisplay": true
      }
    },
    {
      "id": "cases_piecewise",
      "suite": "full",
      "latex": "f(x)=\\begin{cases} x^2, & x\\ge 0 \\\\ -x, & x<0 \\end{cases}",
      "expected": {
        "tags": [],
        "requireDisplay": true
      }
    },
    {
      "id": "bmatrix_layout",
      "suite": "full",
      "latex": "\\begin{bmatrix} 1 & 2 \\\\ 3 & 4 \\end{bmatrix}",
      "expected": {
        "tags": [],
        "requireDisplay": true
      }
    },
    {
      "id": "brace_matrix_layout",
      "suite": "full",
      "latex": "\\begin{Bmatrix} 1 & 2 \\\\ 3 & 4 \\end{Bmatrix}",
      "expected": {
        "tags": [],
        "requireDisplay": true
      }
    },
    {
      "id": "vmatrix_layout",
      "suite": "full",
      "latex": "\\begin{vmatrix} 1 & 2 \\\\ 3 & 4 \\end{vmatrix}",
      "expected": {
        "tags": [],
        "requireDisplay": true
      }
    },
    {
      "id": "double_bar_matrix_layout",
      "suite": "full",
      "latex": "\\begin{Vmatrix} 1 & 2 \\\\ 3 & 4 \\end{Vmatrix}",
      "expected": {
        "tags": [],
        "requireDisplay": true
      }
    },
    {
      "id": "left_right_delimiters",
      "suite": "full",
      "latex": "\\left(\\frac{a+b}{c+d}\\right)^2",
      "expected": {
        "tags": []
      }
    },
    {
      "id": "sum_limits_display",
      "suite": "full",
      "latex": "\\sum_{i=1}^{n} i = \\frac{n(n+1)}{2}",
      "options": {
        "displayMode": "display"
      },
      "expected": {
        "tags": [],
        "requireDisplay": true
      }
    },
    {
      "id": "integral_limits_display",
      "suite": "full",
      "latex": "\\int_{0}^{\\infty} e^{-x^2} \\, dx = \\frac{\\sqrt{\\pi}}{2}",
      "options": {
        "displayMode": "display"
      },
      "expected": {
        "tags": [],
        "requireDisplay": true
      }
    },
    {
      "id": "nested_fraction",
      "suite": "full",
      "latex": "\\frac{1}{1+\\frac{1}{1+x}}",
      "expected": {
        "tags": []
      }
    },
    {
      "id": "overbrace_expression",
      "suite": "full",
      "latex": "\\overbrace{a+b+\\cdots+z}^{26\\ terms}",
      "expected": {
        "tags": []
      }
    },
    {
      "id": "binom_expression",
      "suite": "full",
      "latex": "\\binom{n}{k}=\\frac{n!}{k!(n-k)!}",
      "expected": {
        "tags": []
      }
    },
    {
      "id": "text_and_operator",
      "suite": "full",
      "latex": "\\operatorname{Var}(X)=\\mathbb{E}[X^2]-\\mathbb{E}[X]^2",
      "expected": {
        "tags": []
      }
    },
    {
      "id": "color_expression",
      "suite": "full",
      "latex": "\\color{red}{x^2}+\\color{blue}{y^2}=z^2",
      "expected": {
        "tags": []
      }
    },
    {
      "id": "spacing_expression",
      "suite": "full",
      "latex": "a\\,b\\;c\\quad d\\qquad e",
      "expected": {
        "tags": []
      }
    },
    {
      "id": "equation_notag",
      "suite": "full",
      "latex": "\\begin{equation} E=mc^2 \\notag \\end{equation}",
      "expected": {
        "tags": [],
        "requireDisplay": true
      }
    },
    {
      "id": "gather_custom_mix",
      "suite": "full",
      "latex": "\\begin{gather} a=b \\tag{A} \\\\ c=d \\tag{B} \\end{gather}",
      "expected": {
        "tags": [
          "(A)",
          "(B)"
        ]
      }
    },
    {
      "id": "parse_error_unexpected_end",
      "suite": "full",
      "latex": "\\frac{a}{b",
      "skipImageDiff": true,
      "expected": {
        "tags": [],
        "errorContains": [
          "Unexpected end of input",
          "Missing close brace"
        ]
      }
    },
    {
      "id": "locale_en_display_tag",
      "suite": "full",
      "locale": "en-US",
      "latex": "\\begin{equation} x+y=z \\tag{EN} \\end{equation}",
      "expected": {
        "tags": [
          "(EN)"
        ]
      }
    },
    {
      "id": "opaque_background",
      "suite": "full",
      "latex": "x^2+y^2=z^2",
      "options": {
        "isTransparent": false,
        "displayMode": "inline"
      },
      "expected": {
        "tags": [],
        "requireDisplay": false
      }
    },
    {
      "id": "dpi600_small_font",
      "suite": "full",
      "latex": "\\sum_{k=1}^{20} k^3",
      "options": {
        "fontPt": 14,
        "dpi": 600,
        "displayMode": "display"
      },
      "expected": {
        "tags": [],
        "requireDisplay": true
      }
    },
    {
      "id": "align_three_tags",
      "suite": "full",
      "latex": "\\begin{align} a&=b \\tag{1} \\\\ c&=d \\tag{2} \\\\ e&=f \\tag{3} \\end{align}",
      "expected": {
        "tags": [
          "(1)",
          "(2)",
          "(3)"
        ]
      }
    },
    {
      "id": "cases_with_text_mod",
      "suite": "full",
      "latex": "\\begin{cases} \\text{odd}, & n\\equiv1\\pmod 2 \\\\ \\text{even}, & n\\equiv0\\pmod 2 \\end{cases}",
      "expected": {
        "tags": [],
        "requireDisplay": true
      }
    },
    {
      "id": "font_calligraphic",
      "suite": "full",
      "latex": "{\\cal A}{\\cal B}{\\cal C}{\\cal D}{\\cal E}{\\cal F}{\\cal G}{\\cal H}{\\cal I}{\\cal J}{\\cal K}{\\cal L}{\\cal M}{\\cal N}{\\cal O}{\\cal P}{\\cal Q}{\\cal R}{\\cal S}{\\cal T}{\\cal U}{\\cal V}{\\cal W}{\\cal X}{\\cal Y}{\\cal Z}",
      "layout": {
        "requireNotClipped": false
      },
      "expected": {
        "tags": []
      }
    },
    {
      "id": "font_blackboard_bold",
      "suite": "full",
      "latex": "\\mathbb{A}\\mathbb{B}\\mathbb{C}\\mathbb{N}\\mathbb{Q}\\mathbb{R}\\mathbb{Z} \\in \\mathbb{R}^n",
      "expected": {
        "tags": []
      }
    },
    {
      "id": "font_fraktur",
      "suite": "full",
      "latex": "\\mathfrak{A}\\mathfrak{B}\\mathfrak{g}\\mathfrak{h}\\mathfrak{p}\\mathfrak{q}",
      "expected": {
        "tags": []
      }
    },
    {
      "id": "font_bold_italic_roman",
      "suite": "full",
      "latex": "\\mathbf{F} = m\\mathbf{a}, \\quad \\mathrm{d}x, \\quad \\mathit{v}_{\\max}",
      "expected": {
        "tags": []
      }
    },
    {
      "id": "font_script_scr",
      "suite": "full",
      "latex": "\\mathscr{L}(\\mathscr{F}) = \\int \\mathscr{H} \\, \\mathrm{d}\\mu",
      "expected": {
        "tags": []
      }
    },
    {
      "id": "font_typewriter",
      "suite": "full",
      "latex": "\\mathtt{Hello\\_World} + \\mathsf{sans} + \\mathrm{roman}",
      "expected": {
        "tags": []
      }
    },
    {
      "id": "color_red",
      "suite": "full",
      "latex": "\\color{red}{E=mc^2}",
      "options": {
        "colorHex": "#ff0000"
      },
      "expected": {
        "tags": []
      }
    },
    {
      "id": "color_blue_display",
      "suite": "full",
      "latex": "\\color{blue}{\\sum_{i=1}^{n} x_i}",
      "options": {
        "colorHex": "#0000ff",
        "displayMode": "display"
      },
      "expected": {
        "tags": [],
        "requireDisplay": true
      }
    },
    {
      "id": "color_mixed_inline",
      "suite": "full",
      "latex": "\\color{red}{a} + \\color{green}{b} + \\color{blue}{c} = \\color{purple}{d}",
      "layout": {
        "requireNotClipped": false
      },
      "expected": {
        "tags": []
      }
    },
    {
      "id": "color_hex_custom",
      "suite": "full",
      "latex": "\\frac{\\alpha}{\\beta} + \\gamma",
      "options": {
        "colorHex": "#e91e63"
      },
      "expected": {
        "tags": []
      }
    },
    {
      "id": "cancel_basic",
      "suite": "full",
      "latex": "\\cancel{x} + \\bcancel{y} + \\xcancel{z}",
      "expected": {
        "tags": []
      }
    },
    {
      "id": "cancel_in_fraction",
      "suite": "full",
      "latex": "\\frac{\\cancel{a}\\cdot b}{\\cancel{a}\\cdot c} = \\frac{b}{c}",
      "expected": {
        "tags": []
      }
    },
    {
      "id": "cancelto_value",
      "suite": "full",
      "latex": "\\cancelto{0}{\\frac{x^2-1}{x-1}}",
      "expected": {
        "tags": []
      }
    },
    {
      "id": "enclose_circle",
      "suite": "full",
      "latex": "\\enclose{circle}{x+y}",
      "expected": {
        "tags": []
      }
    },
    {
      "id": "enclose_box_and_strike",
      "suite": "full",
      "latex": "\\enclose{box}{a^2} + \\enclose{horizontalstrike}{b}",
      "expected": {
        "tags": []
      }
    },
    {
      "id": "bbox_with_border",
      "suite": "full",
      "latex": "\\bbox[yellow, 5px, border:2px solid red]{E=mc^2}",
      "expected": {
        "tags": []
      }
    },
    {
      "id": "bbox_padding_only",
      "suite": "full",
      "latex": "\\bbox[5px]{\\sum_{i=1}^{n} i}",
      "options": {
        "displayMode": "display"
      },
      "expected": {
        "tags": [],
        "requireDisplay": true
      }
    },
    {
      "id": "verb_literal",
      "suite": "full",
      "latex": "\\verb|x^2 + y_1| \\text{ is code}",
      "expected": {
        "tags": []
      }
    },
    {
      "id": "newcommand_usage",
      "suite": "full",
      "latex": "\\newcommand{\\RR}{\\mathbb{R}} \\RR^n \\to \\RR^m",
      "expected": {
        "tags": []
      }
    },
    {
      "id": "newcommand_with_args",
      "suite": "full",
      "latex": "\\newcommand{\\norm}[1]{\\left\\lVert #1 \\right\\rVert} \\norm{x+y} \\leq \\norm{x} + \\norm{y}",
      "expected": {
        "tags": []
      }
    },
    {
      "id": "dpi150_large_font",
      "suite": "full",
      "latex": "\\int_0^\\infty e^{-x} \\, dx = 1",
      "options": {
        "fontPt": 48,
        "dpi": 150,
        "displayMode": "display"
      },
      "expected": {
        "tags": [],
        "requireDisplay": true
      }
    },
    {
      "id": "dpi96_screen",
      "suite": "full",
      "latex": "a^2 + b^2 = c^2",
      "options": {
        "fontPt": 24,
        "dpi": 96,
        "displayMode": "inline"
      },
      "expected": {
        "tags": [],
        "requireDisplay": false
      }
    },
    {
      "id": "dpi600_complex_formula",
      "suite": "full",
      "latex": "\\oint_{\\partial \\Sigma} \\mathbf{B} \\cdot \\mathrm{d}\\boldsymbol{\\ell} = \\mu_0 \\iint_{\\Sigma} \\mathbf{J} \\cdot \\mathrm{d}\\mathbf{S} + \\mu_0 \\varepsilon_0 \\frac{\\partial}{\\partial t} \\iint_{\\Sigma} \\mathbf{E} \\cdot \\mathrm{d}\\mathbf{S}",
      "options": {
        "fontPt": 18,
        "dpi": 600,
        "displayMode": "display"
      },
      "layout": {
        "requireNotClipped": false
      },
      "expected": {
        "tags": [],
        "requireDisplay": true
      }
    },
    {
      "id": "greek_full_alphabet",
      "suite": "full",
      "latex": "\\alpha\\beta\\gamma\\delta\\epsilon\\zeta\\eta\\theta\\iota\\kappa\\lambda\\mu\\nu\\xi\\pi\\rho\\sigma\\tau\\upsilon\\phi\\chi\\psi\\omega \\; \\Gamma\\Delta\\Theta\\Lambda\\Xi\\Pi\\Sigma\\Upsilon\\Phi\\Psi\\Omega",
      "layout": {
        "requireNotClipped": false
      },
      "expected": {
        "tags": []
      }
    },
    {
      "id": "operators_and_arrows",
      "suite": "full",
      "latex": "\\forall x \\exists y : x \\leq y \\implies x \\neq y+1 \\iff \\neg(x > y) \\Rightarrow \\Leftarrow \\Leftrightarrow \\hookrightarrow \\mapsto",
      "layout": {
        "requireNotClipped": false
      },
      "expected": {
        "tags": []
      }
    },
    {
      "id": "accents_and_decorations",
      "suite": "full",
      "latex": "\\hat{a} \\bar{b} \\vec{c} \\dot{d} \\ddot{e} \\tilde{f} \\widehat{xyz} \\widetilde{abc} \\overrightarrow{AB}",
      "expected": {
        "tags": []
      }
    },
    {
      "id": "opaque_color_dpi",
      "suite": "full",
      "latex": "\\nabla \\times \\mathbf{E} = -\\frac{\\partial \\mathbf{B}}{\\partial t}",
      "options": {
        "fontPt": 30,
        "dpi": 300,
        "colorHex": "#1a237e",
        "isTransparent": false,
        "displayMode": "display"
      },
      "expected": {
        "tags": [],
        "requireDisplay": true
      }
    },
    {
      "id": "mixed_font_formula",
      "suite": "full",
      "latex": "\\mathbb{E}[X] = \\int_{-\\infty}^{\\infty} x \\, f_{\\mathcal{X}}(x) \\, \\mathrm{d}x, \\quad \\mathfrak{g} \\cong \\mathfrak{sl}(2, \\mathbb{C})",
      "options": {
        "displayMode": "display"
      },
      "expected": {
        "tags": [],
        "requireDisplay": true
      }
    },
    {
      "id": "small_font_high_dpi",
      "suite": "full",
      "latex": "\\prod_{p \\text{ prime}} \\frac{1}{1-p^{-s}} = \\sum_{n=1}^{\\infty} \\frac{1}{n^s}",
      "options": {
        "fontPt": 10,
        "dpi": 600,
        "displayMode": "display"
      },
      "expected": {
        "tags": [],
        "requireDisplay": true
      }
    },
    {
      "id": "large_font_low_dpi",
      "suite": "full",
      "latex": "e^{i\\pi} + 1 = 0",
      "options": {
        "fontPt": 72,
        "dpi": 96,
        "displayMode": "display"
      },
      "expected": {
        "tags": [],
        "requireDisplay": true
      }
    },
    {
      "id": "action_mathtip",
      "suite": "full",
      "latex": "\\mathtip{\\sum_{k=1}^{n} k}{\\text{sum of integers}}",
      "options": {
        "displayMode": "display"
      },
      "expected": {
        "tags": [],
        "requireDisplay": true
      }
    }
  ]
}

